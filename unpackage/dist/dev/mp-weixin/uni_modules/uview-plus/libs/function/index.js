"use strict";const p=require("../../../../common/vendor.js"),l=require("./test.js"),w=require("./digit.js"),y=require("../config/config.js");function x(t=0,e=0,n=0){return Math.max(t,Math.min(e,Number(n)))}function m(t,e=!1){return l.number(t)?e?`${t}px`:Number(t):/(rpx|upx)$/.test(t)?e?`${p.index.upx2px(parseInt(t))}px`:Number(p.index.upx2px(parseInt(t))):e?`${parseInt(t)}px`:parseInt(t)}function b(t=30){return new Promise(e=>{setTimeout(()=>{e()},t)})}function M(){return p.index.getDeviceInfo().platform.toLowerCase()}function P(){let t={};return t=p.index.getWindowInfo(),t}function I(t,e){if(t>=0&&e>0&&e>=t){const n=e-t+1;return Math.floor(Math.random()*n+t)}return 0}function u(t=void 0){let e=this.$parent;for(;e;){let n=t.replace(/up-([a-zA-Z0-9-_]+)/g,"u-$1");if(e.$options&&e.$options.name!==t&&e.$options.name!==n)e=e.$parent;else return e}return!1}function S(t,e="object"){if(l.empty(t)||typeof t=="object"&&e==="object"||e==="string"&&typeof t=="string")return t;if(e==="object"){t=a(t);const r=t.split(";"),o={};for(let i=0;i<r.length;i++)if(r[i]){const f=r[i].split(":");o[a(f[0])]=a(f[1])}return o}let n="";return typeof t=="object"&&t.forEach((r,o)=>{const i=o.replace(/([A-Z])/g,"-$1").toLowerCase();n+=`${i}:${r};`}),a(n)}function _(t="auto",e=""){return e||(e=y.config.unit||"px"),e=="rpx"&&l.number(String(t))&&(t=t*2),t=String(t),l.number(t)?`${t}${e}`:t}function h(t){if([null,void 0,NaN,!1].includes(t)||typeof t!="object"&&typeof t!="function")return t;const e=l.array(t)?[]:{};for(const n in t)t.hasOwnProperty(n)&&(e[n]=typeof t[n]=="object"?h(t[n]):t[n]);return e}function g(t={},e={}){let n=h(t);if(typeof n!="object"||typeof e!="object")return!1;for(const r in e)e.hasOwnProperty(r)&&(r in n?e[r]==null||typeof n[r]!="object"||typeof e[r]!="object"?n[r]=e[r]:n[r].concat&&e[r].concat?n[r]=n[r].concat(e[r]):n[r]=g(n[r],e[r]):n[r]=e[r]);return n}function $(t,e={}){if(typeof t!="object"||typeof e!="object")return!1;for(const n in e)e.hasOwnProperty(n)&&(n in t?e[n]==null||typeof t[n]!="object"||typeof e[n]!="object"?t[n]=e[n]:t[n].concat&&e[n].concat?t[n]=t[n].concat(e[n]):t[n]=$(t[n],e[n]):t[n]=e[n]);return t}function F(t){console.error(`uView提示：${t}`)}String.prototype.padStart||(String.prototype.padStart=function(t,e=" "){if(Object.prototype.toString.call(e)!=="[object String]")throw new TypeError("fillString must be String");const n=this;if(n.length>=t)return String(n);const r=t-n.length;let o=Math.ceil(r/e.length);for(;o>>=1;)e+=e,o===1&&(e+=e);return e.slice(0,r)+n});function O(t=null,e="yyyy-mm-dd"){let n;t?/^\d{10}$/.test(t.toString().trim())?n=new Date(t*1e3):typeof t=="string"&&/^\d+$/.test(t.trim())?n=new Date(Number(t)):typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/.test(t)?n=new Date(t):n=new Date(typeof t=="string"?t.replace(/-/g,"/"):t):n=new Date;const r={y:n.getFullYear().toString(),m:(n.getMonth()+1).toString().padStart(2,"0"),d:n.getDate().toString().padStart(2,"0"),h:n.getHours().toString().padStart(2,"0"),M:n.getMinutes().toString().padStart(2,"0"),s:n.getSeconds().toString().padStart(2,"0")};for(const o in r){const[i]=new RegExp(`${o}+`).exec(e)||[];if(i){const f=o==="y"&&i.length===2?2:0;e=e.replace(i,r[o].slice(f))}}return e}function a(t,e="both"){return t=String(t),e=="both"?t.replace(/^\s+|\s+$/g,""):e=="left"?t.replace(/^\s*/,""):e=="right"?t.replace(/(\s*$)/g,""):e=="all"?t.replace(/\s+/g,""):t}function C(t={},e=!0,n="brackets"){const r=e?"?":"",o=[];["indices","brackets","repeat","comma"].indexOf(n)==-1&&(n="brackets");for(const i in t){const f=t[i];if(!(["",void 0,null].indexOf(f)>=0))if(f.constructor===Array)switch(n){case"indices":for(let s=0;s<f.length;s++)o.push(`${i}[${s}]=${f[s]}`);break;case"brackets":f.forEach(s=>{o.push(`${i}[]=${s}`)});break;case"repeat":f.forEach(s=>{o.push(`${i}=${s}`)});break;case"comma":let c="";f.forEach(s=>{c+=(c?",":"")+s}),o.push(`${i}=${c}`);break;default:f.forEach(s=>{o.push(`${i}[]=${s}`)})}else o.push(`${i}=${f}`)}return o.length?r+o.join("&"):""}function E(t,e=2e3){p.index.showToast({title:String(t),icon:"none",duration:e})}function D(t,e=0,n=".",r=","){t=`${t}`.replace(/[^0-9+-Ee.]/g,"");const o=isFinite(+t)?+t:0,i=isFinite(+e)?Math.abs(e):0,f=typeof r>"u"?",":r,c=typeof n>"u"?".":n;let s="";s=(i?w.round(o,i)+"":`${Math.round(o)}`).split(".");const d=/(-?\d+)(\d{3})/;for(;d.test(s[0]);)s[0]=s[0].replace(d,`$1${f}$2`);return(s[1]||"").length<i&&(s[1]=s[1]||"",s[1]+=new Array(i-s[1].length+1).join("0")),s.join(c)}function q(t){return`00${t}`.slice(-2)}function N(t,e){const n=u.call(t,"u-form-item"),r=u.call(t,"u-form");n&&r&&r.validateField(n.prop,()=>{},e)}function j(t,e){if(typeof t!="object"||t==null||typeof e!="string"||e==="")return"";if(e.indexOf(".")!==-1){const n=e.split(".");let r=t[n[0]]||{};for(let o=1;o<n.length;o++)r&&(r=r[n[o]]);return r}return t[e]}function k(t,e,n){if(typeof t!="object"||t==null)return;const r=function(o,i,f){if(i.length===1){o[i[0]]=f;return}for(;i.length>1;){const c=i[0];(!o[c]||typeof o[c]!="object")&&(o[c]={}),i.shift(),r(o[c],i,f)}};if(!(typeof e!="string"||e===""))if(e.indexOf(".")!==-1){const o=e.split(".");r(t,o,n)}else t[e]=n}function A(){const t=getCurrentPages();return`/${t[t.length-1].route||""}`}function H(t,e=95){const n=L(t),r=W(n.r,n.g,n.b),o={h:r.h,s:r.s,l:Math.min(e,95)};return Z(o.h,o.s,o.l)}function L(t){const e=t.toLowerCase().trim();if(e.startsWith("#")){const r=e.replace("#",""),o=r.length===3?r.split("").map(i=>i+i).join(""):r;return{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16)}}const n=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n)return{r:+n[1],g:+n[2],b:+n[3]};throw new Error("Invalid color format")}function W(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=Math.min(t,e,n);let i,f,c=(r+o)/2;if(r===o)i=f=0;else{const s=r-o;switch(f=c>.5?s/(2-r-o):s/(r+o),r){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4;break}i=(i*60).toFixed(1)}return{h:+i,s:+(f*100).toFixed(1),l:+(c*100).toFixed(1)}}function Z(t,e,n){n/=100;const r=e*Math.min(n,1-n)/100,o=i=>{const f=(i+t/30)%12,c=n-r*Math.max(Math.min(f-3,9-f,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`}exports.$parent=u;exports.addStyle=S;exports.addUnit=_;exports.deepClone=h;exports.deepMerge=g;exports.error=F;exports.formValidate=N;exports.genLightColor=H;exports.getProperty=j;exports.getPx=m;exports.getWindowInfo=P;exports.os=M;exports.padZero=q;exports.page=A;exports.priceFormat=D;exports.queryParams=C;exports.random=I;exports.range=x;exports.setProperty=k;exports.shallowMerge=$;exports.sleep=b;exports.timeFormat=O;exports.toast=E;
