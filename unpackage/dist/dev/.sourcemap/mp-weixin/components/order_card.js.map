{"version":3,"file":"order_card.js","sources":["components/order_card.vue","../../../OneDrive/Desktop/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvY2FpeWUvRG9jdW1lbnRzL0hCdWlsZGVyUHJvamVjdHMvRmFudGFzeV9Nb2JpbGUvY29tcG9uZW50cy9vcmRlcl9jYXJkLnZ1ZQ"],"sourcesContent":["<!-- components/order-card.vue -->\n<template>\n  <view class=\"order-card\" @click=\"$emit('click', task)\">\n    <!-- 状态指示条 -->\n    <view class=\"status-indicator\" :style=\"{ backgroundColor: getStatusColor(task.status) }\"></view>\n    \n    <view class=\"card-content\">\n      <!-- 标题行 -->\n      <view class=\"card-header\">\n        <view class=\"title-section\">\n          <text class=\"field-label\">名称</text>\n          <view class=\"status-badge\" :style=\"{ color: getStatusColor(task.status) }\">\n            {{ task.statusText }}\n          </view>\n          <text class=\"device-name\">{{ task.name }}</text>\n        </view>\n        <view v-if=\"task.priority === 'high'\" class=\"priority-badge high\">\n          紧急\n        </view>\n        <view v-else-if=\"task.priority === 'medium'\" class=\"priority-badge medium\">\n          重要\n        </view>\n      </view>\n      \n      <!-- 设备信息 -->\n      <view class=\"info-row\">\n        <text class=\"field-label\">网点</text>\n        <text class=\"field-value site-info\">{{ task.site }}</text>\n      </view>\n      \n      <view class=\"info-row\">\n        <text class=\"field-label\">编号</text>\n        <text class=\"field-value\">{{ task.serialNo }}</text>\n      </view>\n      \n      <view class=\"info-row\">\n        <text class=\"field-label\">负责人</text>\n        <view class=\"responsible-info\">\n          <text class=\"field-value\">{{ task.responsible }}</text>\n          <text class=\"date\">{{ task.date }}</text>\n        </view>\n      </view>\n      \n      <!-- 操作按钮 -->\n      <view class=\"action-buttons\">\n        <u-button\n          v-if=\"task.status === 'fault'\"\n          type=\"error\"\n          size=\"mini\"\n          shape=\"circle\"\n          @click.stop=\"handleRepair\"\n        >\n          立即维修\n        </u-button>\n        \n        <u-button\n          v-else-if=\"task.status === 'offline'\"\n          type=\"warning\"\n          size=\"mini\"\n          shape=\"circle\"\n          @click.stop=\"handleCheck\"\n        >\n          检查设备\n        </u-button>\n        \n        <u-button\n          v-else\n          type=\"primary\"\n          size=\"mini\"\n          shape=\"circle\"\n          @click.stop=\"handleInspect\"\n        >\n          开始巡检\n        </u-button>\n        \n        <u-button\n          type=\"info\"\n          size=\"mini\"\n          plain\n          shape=\"circle\"\n          @click.stop=\"handleDetail\"\n        >\n          详情\n        </u-button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nconst props = defineProps({\n  task: {\n    type: Object,\n    required: true,\n    default: () => ({})\n  }\n})\n\nconst emit = defineEmits(['click'])\n\n// 状态颜色映射\nconst statusColorMap = {\n  online: '#2979ff',    // 蓝色\n  offline: '#909399',  // 灰色\n  fault: '#fa3534'     // 红色\n}\n\n// 获取状态颜色\nconst getStatusColor = (status) => {\n  return statusColorMap[status] || '#909399'\n}\n\n// 事件处理\nconst handleRepair = () => {\n  uni.showModal({\n    title: '维修确认',\n    content: `确定要开始维修 ${props.task.name} 吗？`,\n    success: (res) => {\n      if (res.confirm) {\n        uni.showToast({\n          title: '开始维修',\n          icon: 'success'\n        })\n        // 这里可以调用维修接口\n      }\n    }\n  })\n}\n\nconst handleCheck = () => {\n  uni.navigateTo({\n    url: `/pages/device/check?id=${props.task.id}`\n  })\n}\n\nconst handleInspect = () => {\n  uni.navigateTo({\n    url: `/pages/order/start?id=${props.task.id}`\n  })\n}\n\nconst handleDetail = () => {\n  emit('click', props.task)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.order-card {\n  position: relative;\n  background: #ffffff;\n  border-radius: 16rpx;\n  margin-bottom: 24rpx;\n  box-shadow: 0 4rpx 24rpx rgba(0, 0, 0, 0.06);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  \n  &:active {\n    transform: translateY(-2rpx);\n    box-shadow: 0 6rpx 30rpx rgba(0, 0, 0, 0.1);\n  }\n  \n  .status-indicator {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 8rpx;\n  }\n  \n  .card-content {\n    padding: 32rpx;\n    margin-left: 8rpx;\n  }\n  \n  .card-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 24rpx;\n    \n    .title-section {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 16rpx;\n      \n      .field-label {\n        font-size: 28rpx;\n        color: #909399;\n        font-weight: 400;\n      }\n      \n      .status-badge {\n        font-size: 24rpx;\n        font-weight: 500;\n        padding: 4rpx 12rpx;\n        background-color: rgba(41, 121, 255, 0.1);\n        border-radius: 6rpx;\n      }\n      \n      .device-name {\n        font-size: 32rpx;\n        color: #303133;\n        font-weight: 600;\n      }\n    }\n    \n    .priority-badge {\n      padding: 8rpx 16rpx;\n      border-radius: 20rpx;\n      font-size: 22rpx;\n      font-weight: 500;\n      \n      &.high {\n        background-color: #fef0f0;\n        color: #fa3534;\n      }\n      \n      &.medium {\n        background-color: #fdf6ec;\n        color: #e6a23c;\n      }\n    }\n  }\n  \n  .info-row {\n    display: flex;\n    margin-bottom: 20rpx;\n    align-items: flex-start;\n    \n    .field-label {\n      width: 140rpx;\n      font-size: 28rpx;\n      color: #909399;\n      font-weight: 400;\n      flex-shrink: 0;\n    }\n    \n    .field-value {\n      flex: 1;\n      font-size: 28rpx;\n      color: #303133;\n      font-weight: 500;\n      line-height: 1.4;\n      \n      &.site-info {\n        word-break: break-all;\n      }\n    }\n    \n    .responsible-info {\n      flex: 1;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      \n      .date {\n        font-size: 24rpx;\n        color: #c0c4cc;\n        font-weight: 400;\n      }\n    }\n  }\n  \n  .action-buttons {\n    display: flex;\n    gap: 20rpx;\n    margin-top: 32rpx;\n    padding-top: 24rpx;\n    border-top: 1rpx solid #f2f2f2;\n    \n    ::v-deep .u-button {\n      flex: 1;\n    }\n  }\n}\n</style>","import Component from 'C:/Users/caiye/Documents/HBuilderProjects/Fantasy_Mobile/components/order_card.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;AA0FA,UAAM,QAAQ;AAQd,UAAM,OAAO;AAGb,UAAM,iBAAiB;AAAA,MACrB,QAAQ;AAAA;AAAA,MACR,SAAS;AAAA;AAAA,MACT,OAAO;AAAA;AAAA,IACT;AAGA,UAAM,iBAAiB,CAAC,WAAW;AACjC,aAAO,eAAe,MAAM,KAAK;AAAA,IACnC;AAGA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS,WAAW,MAAM,KAAK,IAAI;AAAA,QACnC,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACfA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YAChB,CAAS;AAAA,UAEF;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAEA,UAAM,cAAc,MAAM;AACxBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,0BAA0B,MAAM,KAAK,EAAE;AAAA,MAChD,CAAG;AAAA,IACH;AAEA,UAAM,gBAAgB,MAAM;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,yBAAyB,MAAM,KAAK,EAAE;AAAA,MAC/C,CAAG;AAAA,IACH;AAEA,UAAM,eAAe,MAAM;AACzB,WAAK,SAAS,MAAM,IAAI;AAAA,IAC1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IA,GAAG,gBAAgB,SAAS;"}